(async function(){const _0x3d7b58=_0x2e98;function _0x5906(){const _0x46d016=['removeChild','JSON','from','cbcb9457d4687a1689739680f24259c2a2e4b7718fb80c74d167e87325903fc7h8jbt','querySelectorAll','69vcQWPO','filter','map','iframe','h8jbt','createElement','join','266972znkZJB','stringify','Promise','i3jp0','Symbol','280765KwaNdq','some','keys','Proxy','6662368MuvdUi','849116zgSFbJ','userAgent','body','toString','srcdoc','A6oejs8B8Af5s8QNiMOjGaCl/xt1m2HjebemfmiHQRM=','length','790947xkZhQs','self','fromCharCode','1756861669523','102GkiRpD','div','+ycpiH1k+aQ0L1WDknoPOJArBBk2ZPt49sjkwlgQhtw=','Array','40GRRQJy','Object','top','1614718pXRhaf','push','charCodeAt','endsWith','reduce','get','5944162DFCzyH','webdriver','innerHTML','contentWindow','all'];_0x5906=function(){return _0x46d016;};return _0x5906();}function _0x2e98(_0xb53583,_0x3aa7fb){const _0x59067e=_0x5906();return _0x2e98=function(_0x2e98ee,_0x510399){_0x2e98ee=_0x2e98ee-0x12b;let _0x5260d9=_0x59067e[_0x2e98ee];return _0x5260d9;},_0x2e98(_0xb53583,_0x3aa7fb);}(function(_0x166606,_0xf6f6a5){const _0x57c992=_0x2e98,_0xad22dc=_0x166606();while(!![]){try{const _0x13bc4a=-parseInt(_0x57c992(0x137))/0x1+-parseInt(_0x57c992(0x158))/0x2+parseInt(_0x57c992(0x147))/0x3*(parseInt(_0x57c992(0x14e))/0x4)+-parseInt(_0x57c992(0x153))/0x5*(-parseInt(_0x57c992(0x130))/0x6)+parseInt(_0x57c992(0x13d))/0x7+-parseInt(_0x57c992(0x157))/0x8+-parseInt(_0x57c992(0x12c))/0x9*(-parseInt(_0x57c992(0x134))/0xa);if(_0x13bc4a===_0xf6f6a5)break;else _0xad22dc['push'](_0xad22dc['shift']());}catch(_0x2023b1){_0xad22dc['push'](_0xad22dc['shift']());}}}(_0x5906,0xc7c8c));const _0x11e2d9=[['ua',![]],[_0x3d7b58(0x14b),![]],[_0x3d7b58(0x151),![]]],_0x316b60=await Promise[_0x3d7b58(0x141)]([navigator[_0x3d7b58(0x159)],(function(){const _0x36d6ef=_0x3d7b58,_0x13d212=document['createElement'](_0x36d6ef(0x131));return _0x13d212[_0x36d6ef(0x13f)]='<p><div></p><p></div',String(0x7b0+_0x13d212[_0x36d6ef(0x13f)][_0x36d6ef(0x12b)]*_0x13d212[_0x36d6ef(0x146)]('*')[_0x36d6ef(0x12b)]);}()),(function(){const _0x192e8d=_0x3d7b58;return String([navigator[_0x192e8d(0x13e)]===!![],(function(){const _0x10ff6c=_0x192e8d,_0x2634c8=document[_0x10ff6c(0x14c)](_0x10ff6c(0x14a));_0x2634c8[_0x10ff6c(0x15c)]='DuckDuckGo\x20Fraud\x20&\x20Abuse',document[_0x10ff6c(0x15a)]['appendChild'](_0x2634c8);let _0x1124a0;return _0x2634c8[_0x10ff6c(0x140)]&&_0x2634c8['contentWindow'][_0x10ff6c(0x12d)]&&_0x2634c8[_0x10ff6c(0x140)][_0x10ff6c(0x12d)][_0x10ff6c(0x13c)]?_0x1124a0=_0x2634c8[_0x10ff6c(0x140)][_0x10ff6c(0x12d)][_0x10ff6c(0x13c)][_0x10ff6c(0x15b)]():_0x1124a0=undefined,document['body'][_0x10ff6c(0x142)](_0x2634c8),!!_0x1124a0;}()),(function(){const _0x53c34e=_0x192e8d,_0x3a7299=[_0x53c34e(0x133),_0x53c34e(0x135),_0x53c34e(0x150),_0x53c34e(0x156),_0x53c34e(0x152),_0x53c34e(0x143),'Window'],_0x4752ef=Object[_0x53c34e(0x155)](window[_0x53c34e(0x136)])[_0x53c34e(0x148)](_0x459846=>_0x3a7299[_0x53c34e(0x154)](_0x13bbb0=>_0x459846!==_0x13bbb0&&_0x459846[_0x53c34e(0x13a)]('_'+_0x13bbb0)&&window[_0x53c34e(0x136)][_0x459846]===window[_0x53c34e(0x136)][_0x13bbb0]));return _0x4752ef[_0x53c34e(0x12b)]>0x0;}())][_0x192e8d(0x149)](Number)[_0x192e8d(0x13b)]((_0x5bfde9,_0x21dac4)=>_0x5bfde9+_0x21dac4,0xea5));}())]),_0x2fb94b=[],_0x5119ed={},_0xf88263='b04febb97bba532a';for(let _0x5063d6=0x0;_0x5063d6<_0x316b60[_0x3d7b58(0x12b)];_0x5063d6++){const _0xe51db=_0x316b60[_0x5063d6];Array['isArray'](_0xe51db)?(_0x2fb94b[_0x3d7b58(0x138)](_0xe51db[0x0]),_0xe51db['length']>0x1&&_0x11e2d9[_0x5063d6][0x1]&&(_0x5119ed[_0x11e2d9[_0x5063d6][0x0]]=_0xe51db[0x1])):_0x2fb94b[_0x3d7b58(0x138)](_0xe51db);}const _0x53b75b=Array[_0x3d7b58(0x144)](JSON[_0x3d7b58(0x14f)](_0x5119ed))[_0x3d7b58(0x149)]((_0x28e28b,_0x28f4de)=>String[_0x3d7b58(0x12e)](_0x28e28b[_0x3d7b58(0x139)](0x0)^_0xf88263[_0x3d7b58(0x139)](_0x28f4de%_0xf88263[_0x3d7b58(0x12b)])))[_0x3d7b58(0x14d)]('');return{'server_hashes':[_0x3d7b58(0x132),_0x3d7b58(0x15d),'gXX+Sc34CVcQZ3KTsKamYvBTrKeCbrR9nBKHJOWoEes='],'client_hashes':_0x2fb94b,'signals':{},'meta':{'v':'4','challenge_id':_0x3d7b58(0x145),'timestamp':_0x3d7b58(0x12f),'debug':_0x53b75b}};})()



(async function () {
  // Optional fields (all disabled)
  const OPTIONAL_FIELDS = [
    ["ua", false],
    ["pxjzr", false],
    ["4crqvkj", false],
  ];

  // 1) Gather three signals in parallel
  const results = await Promise.all([
    // a) user agent
    navigator.userAgent,

    // b) environment/DOM fingerprint -> string number
    (function fingerprintScore() {
      const checks = [];

      // Window#toString contains a custom token?
      checks.push(String(window.toString()).includes("pxjzr"));

      // Subclassed Array behavior across .map
      class SubArr extends Array {}
      const a = new SubArr(1, 2, 3);
      const mapped = a.map(x => x * 2);
      checks.push(mapped instanceof SubArr);

      // "[object Window]" brand check
      checks.push(Object.prototype.toString.call(window) === "[object Window]");

      // Error basics & V8 captureStackTrace presence/absence
      const E = Error;
      checks.push(new E() instanceof Error);
      checks.push(E.captureStackTrace === undefined || typeof E.captureStackTrace === "function");

      // Sealed Math?
      checks.push(Object.isSealed(Math));

      // Non-strict global this
      checks.push((function(){ return this; }()) === window);

      // DOM child list increments on append/remove
      const before = document.body.children;
      const beforeLen = before.length;
      const div = document.createElement("div");
      document.body.appendChild(div);
      checks.push(document.body.children.length === beforeLen + 1);
      document.body.removeChild(div);

      // NodeList shape checks
      const nl = document.querySelectorAll("*");
      checks.push(!Array.isArray(nl));
      checks.push(nl.constructor.name === "NodeList");

      // Element / constructor chain checks
      const el = document.createElement("div");
      checks.push(el instanceof HTMLDivElement);
      checks.push(HTMLDivElement.constructor instanceof HTMLElement);
      checks.push(HTMLElement.prototype instanceof Element);

      // Sum booleans as integers with base 0xFDD
      const sum = checks.map(Number).reduce((a, b) => a + b, 0xFDD);
      return String(sum);
    })(),

    // c) automation/tampering score -> string number
    (function automationScore() {
      const markers = ["get", "Proxy", "NodeList", "name", "srcdoc", "JSON", "Symbol"];

      // webdriver flag
      const isWebDriver = (navigator.webdriver === true);

      // Try to tickle Proxy-like plumbing inside an iframe (usually false)
      const hasIframeGet = (function () {
        const ifr = document.createElement("iframe");
        ifr.srcdoc = "DuckDuckGo Fraud & Abuse";
        document.body.appendChild(ifr);
        let val;
        if (ifr.contentWindow && ifr.contentWindow.self && ifr.contentWindow.self.get) {
          val = ifr.contentWindow.self.get.toString();
        }
        document.body.removeChild(ifr);
        return !!val;
      })();

      // Look for mirrored props on window.top like "_get", "_JSON", etc.
      const suspect = Object.keys(window.top)
        .filter(k =>
          markers.some(m =>
            k !== m && k.endsWith("_" + m) && window.top[k] === window.top[m]
          )
        ).length > 0;

      const sum = [isWebDriver, hasIframeGet, suspect]
        .map(Number)
        .reduce((a, b) => a + b, 0x708); // 1800
      return String(sum);
    })(),
  ]);

  // 2) client_hashes + optional kv
  const client_hashes = [];
  const kv = {};
  for (let i = 0; i < results.length; i++) {
    const v = results[i];
    if (Array.isArray(v)) {
      client_hashes.push(v[0]);
      if (v.length > 1 && OPTIONAL_FIELDS[i][1]) {
        kv[OPTIONAL_FIELDS[i][0]] = v[1];
      }
    } else {
      client_hashes.push(v);
    }
  }

  // 3) XOR the JSON of kv into meta.debug
  const XOR_KEY = "5353810354f0cff3";
  const json = JSON.stringify(kv);
  const debug = Array.from(json)
    .map((ch, i) =>
      String.fromCharCode(
        ch.charCodeAt(0) ^ XOR_KEY.charCodeAt(i % XOR_KEY.length)
      )
    )
    .join("");

  // 4) Final payload
  return {
    server_hashes: [
      "/WES/nK2SxwDQwA3SVUTCUHg1pKSuJVhLHpl19oGy08=",
      "8tXOzHBXSGI8dwNltNXaJ/BmtnHZ294Ut10A3GL07jY=",
      "T35Orqcg+msYTL6xJtzFi7vLoUgBzsIQxJPhZmBfjPE=",
    ],
    client_hashes,
    signals: {},
    meta: {
      v: "4",
      challenge_id:
        "078d540d64d8e345f414374a3f5d947e66447b2811b3106c228af180fd265ca6pxjzr",
      timestamp: "1756869478918",
      debug,
    },
  };
})();


(async function () {
  // Which optional fields we might stash (all disabled here)
  const OPTIONAL_FIELDS = [
    ['ua', false],
    ['h8jbt', false],
    ['3399ZaNJlL', false],
  ];

  // 1) Gather three signals in parallel
  const results = await Promise.all([
    // a) Raw UA string
    navigator.userAgent,

    // b) DOM-based “fingerprint” number as a string
    (function domFingerprint() {
      const el = document.createElement('div');
      el.innerHTML = '<div><div></div><div></div';
      const nodes = el.querySelectorAll('*').length;
      const score = 0xd35 + el.innerHTML.length * nodes; // 3381 + len*count
      return String(score);
    })(),

    // c) Automation heuristics rolled into one number-as-string
    (function automationScore() {
      const isWebdriver = (navigator.webdriver === true);

      // Try to detect Proxy/Symbol plumbing inside an iframe
      const hasProxySymbolToString = (function () {
        const iframe = document.createElement('iframe');
        iframe.srcdoc = 'Proxy';
        document.body.appendChild(iframe);

        let s;
        if (
          iframe.contentWindow &&
          iframe.contentWindow.self &&
          iframe.contentWindow.self.Symbol &&
          iframe.contentWindow.self.Symbol.toString
        ) {
          s = iframe.contentWindow.self.Symbol.toString.call(iframe.contentWindow.self.Symbol);
        }

        document.body.removeChild(iframe);
        return !!s;
      })();

      // Look for window props that shadow top.* under names like "_JSON", "_get", etc.
      const MARKERS = ['get', 'toString', 'JSON', 'self', 'srcdoc', 'i3jp0', 'Window'];
      const leakedProps =
        Object.keys(window.top ?? window)
          .filter((k) =>
            MARKERS.some((m) => k !== m && k.endsWith('_' + m) && window[k] === (window.top?.[m]))
          ).length > 0;

      // Coerce to numbers and add a constant offset
      const sum = [isWebdriver, hasProxySymbolToString, leakedProps]
        .map(Number)
        .reduce((a, b) => a + b, 0x13e6); // 5094
      return String(sum);
    })()
  ]);

  // 2) Build client_hashes and (optionally) a kv map
  const client_hashes = [];
  const kv = {};
  for (let i = 0; i < results.length; i++) {
    const v = results[i];
    if (Array.isArray(v)) {
      client_hashes.push(v[0]);
      if (v.length > 1 && OPTIONAL_FIELDS[i][1]) {
        kv[OPTIONAL_FIELDS[i][0]] = v[1];
      }
    } else {
      client_hashes.push(v);
    }
  }

  // 3) XOR “encrypt” the JSON of kv with a short key to make meta.debug
  const XOR_KEY = '...'; // the constant at index 0xd1 in the table
  const json = JSON.stringify(kv);
  const debug = Array.from(json)
    .map((ch, i) => String.fromCharCode(ch.charCodeAt(0) ^ XOR_KEY.charCodeAt(i % XOR_KEY.length)))
    .join('');

  // 4) Final payload
  return {
    server_hashes: [
      '8e4c2c8d40081c40',
      '14rEcwp6d8/Klh14mwwpM9/JAHD9jAiDP/qV9TgP3T4=',
      'VoZYNUOXx4vYI1WQiqEgdeUBjpHHb5dZsVrN/OTeufI='
    ],
    client_hashes,
    signals: {},
    meta: {
      v: '4',
      challenge_id:
        'a407a2ba8d495f9d3708a725bc3e584e109a4a0ce4d5d8ad0c8ac5523da20885h8jbt',
      timestamp: '1756869116999',
      debug
    }
  };
})();


(async function () {
  // Labels for (optionally) attaching extra values into the XOR'd debug field.
  // In this variant they’re all disabled (false), so nothing gets added.
  const labels = [
    ['ua', false],
    ['__DDG_FE_CHAT_HASH__', false],
    ['sandbox', false],
  ];

  // Build three “client” values in parallel:
  //   1) navigator.userAgent
  //   2) iframe/CSP/globals checksum (as a string)
  //   3) automation/dup-globals checksum (as a string)
  const clientPieces = await Promise.all([
    navigator.userAgent,

    // (2) Inspect an iframe called #jsa and some top-window globals
    (function () {
      const topWin = window.top;
      const iframe = topWin.document.querySelector('#jsa');

      // Get the document inside the iframe (via contentDocument or contentWindow.document)
      const doc = iframe.contentDocument || iframe.contentWindow.document;

      // Grab the CSP meta and sandbox attribute
      const cspContent = doc.querySelector('meta[http-equiv="Content-Security-Policy"]')
                            .getAttribute('content');
      const sandboxAttr = iframe.getAttribute('sandbox');

      // Compute a checksum-like number with a base and a few booleans
      const checks = [
        cspContent === "default-src 'none'; script-src 'unsafe-inline';",
        sandboxAttr === 'allow-scripts allow-same-origin',
        topWin.hasOwnProperty('__DDG_BE_VERSION__'),
        topWin.hasOwnProperty('__DDG_FE_CHAT_HASH__'),
      ];

      // Convert booleans -> 0/1 and sum onto base 0x1408 (5128), then stringify
      const sum = checks.map(Number).reduce((a, b) => a + b, 0x1408);
      return String(sum);
    })(),

    // (3) Automation/duplication checks
    (function () {
      // A: WebDriver (true on many headless/automation setups)
      const isWebDriver = (navigator.webdriver === true);

      // B: VisualViewport “scale” exists inside a temporary iframe (#jsa via srcdoc)
      const hasViewportScale = (function () {
        const ifr = document.createElement('iframe');
        ifr.srcdoc = '#jsa';
        document.body.appendChild(ifr);

        let scaleValue;
        if (ifr.contentWindow &&
            ifr.contentWindow.visualViewport &&
            ifr.contentWindow.visualViewport.scale) {
          // capture a string form to coerce to boolean below
          scaleValue = ifr.contentWindow.visualViewport.scale.toString();
        } else {
          scaleValue = undefined;
        }

        document.body.removeChild(ifr);
        return !!scaleValue;
      })();

      // C: Look for duplicate globals like JSON / _JSON, Proxy / _Proxy, etc.
      //    (i.e., keys that end with `_<Name>` and equal the original)
      const watchList = ['Symbol', 'i3jp0', 'vz95n', 'Proxy', 'JSON', '__DDG_FE_CHAT_HASH__', 'Window'];
      const dupKeys = Object.keys(window.top).filter(key =>
        watchList.some(name =>
          key !== name &&
          key.endsWith('_' + name) &&
          window.top[key] === window.top[name]
        )
      );
      const hasDupGlobals = dupKeys.length > 0;

      // Sum booleans onto base 0x1f1c (7964), then stringify
      const sum = [isWebDriver, hasViewportScale, hasDupGlobals]
        .map(Number)
        .reduce((a, b) => a + b, 0x1f1c);

      return String(sum);
    })()
  ]);

  // Build the client_hashes list and (optionally) a tiny debug payload map (empty here)
  const client_hashes = [];
  const debugMap = {};
  const xorKey = 'Array'; // short XOR key used below

  for (let i = 0; i < clientPieces.length; i++) {
    const piece = clientPieces[i];

    if (Array.isArray(piece)) {
      // (Not actually used by the two functions above, but supported)
      client_hashes.push(piece[0]);
      if (piece.length > 1 && labels[i][1]) {
        debugMap[labels[i][0]] = piece[1];
      }
    } else {
      client_hashes.push(piece);
    }
  }

  // XOR-“encode” the debug JSON with a tiny key (it’s just "{}" here)
  const rawDebug = JSON.stringify(debugMap);
  const debug = Array.from(rawDebug)
    .map((ch, idx) =>
      String.fromCharCode(ch.charCodeAt(0) ^ xorKey.charCodeAt(idx % xorKey.length))
    )
    .join('');

  // Final payload
  return {
    server_hashes: [
      '6jVXL3PM2WM+MmapxNQPVgs4GXayljCLfzoM7P4V0rs=',
      '/T4y++jK7YM8XViigNrVUkb6Ue6mUv5v1EyyCJz+yEk=',
      'i3jp0'
    ],
    client_hashes,
    signals: {},
    meta: {
      v: '4',
      challenge_id: '227626f46eff9192f06f9e8406cb93215550cd6b90490525f5236d2b0572391cvz95n',
      timestamp: '1756858702302',
      debug
    }
  };
})()






