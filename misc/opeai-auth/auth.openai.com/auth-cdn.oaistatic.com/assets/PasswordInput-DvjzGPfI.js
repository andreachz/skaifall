import{r as a,R as d,j as f,u as F}from"./index-DjeUAv9f.js";import{c as N,M as R}from"./index-npON1Cka.js";import{$ as H,a as V,b as Z,c as U}from"./OverlayArrow-lS84iosS.js";import{y as W,z as k,i as w,a as z,$ as K,e as Y,l as S,A as G,b as q,B as J,C as Q,k as D,m as X,n as L,s as ee,D as te,E as oe,x as re,G as le,U as ae}from"./FormField-DK50dxQ6.js";import{$ as ne,r as se}from"./index-g2bMlRvq.js";import{T as ie}from"./TextInput-BR8pOaYj.js";import{T as de}from"./AuthStepLayout-DRZ_4X3y.js";const ce=e=>a.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.29291 2.29289C2.68343 1.90237 3.3166 1.90237 3.70712 2.29289L21.7071 20.2929C22.0976 20.6834 22.0976 21.3166 21.7071 21.7071C21.3166 22.0976 20.6834 22.0976 20.2929 21.7071L17.7785 19.1927C16.2039 20.2404 14.274 21 12 21C8.84584 21 6.36062 19.541 4.5586 17.8792C2.76162 16.222 1.58481 14.312 1.01235 13.2562C0.585075 12.4681 0.585779 11.5305 1.01269 10.7432C1.5904 9.67778 2.79205 7.72646 4.63588 6.05008L2.29291 3.70711C1.90238 3.31658 1.90238 2.68342 2.29291 2.29289ZM6.05192 7.46612C4.40725 8.93862 3.30718 10.7074 2.77085 11.6965C2.66598 11.8899 2.66608 12.1102 2.77055 12.3029C3.28868 13.2585 4.34193 14.9588 5.91447 16.4089C7.48198 17.8545 9.50575 19 12 19C13.6494 19 15.09 18.5001 16.3303 17.7445L14.396 15.8102C12.6575 16.9057 10.3324 16.6963 8.81803 15.182C7.3037 13.6676 7.09428 11.3425 8.18977 9.60397L6.05192 7.46612ZM9.67223 11.0864L12.9136 14.3278C12.0164 14.6793 10.9571 14.4927 10.2322 13.7678C9.50734 13.0429 9.32067 11.9836 9.67223 11.0864Z",fill:"currentColor"}),a.createElement("path",{d:"M10.2234 5.19987C10.7835 5.07151 11.3753 5 12 5C14.4943 5 16.5181 6.1455 18.0856 7.59105C19.6581 9.04124 20.7114 10.7415 21.2295 11.6971C21.3335 11.8889 21.3338 12.1105 21.2285 12.3047C20.9449 12.8276 20.496 13.5829 19.8836 14.4005C19.5526 14.8426 19.6425 15.4693 20.0846 15.8004C20.5266 16.1315 21.1534 16.0415 21.4844 15.5995C22.1677 14.6872 22.6678 13.8459 22.9866 13.2582C23.4131 12.4717 23.4154 11.5327 22.9877 10.7438C22.4152 9.68799 21.2384 7.77798 19.4414 6.1208C17.6394 4.45899 15.1542 3 12 3C11.2211 3 10.4795 3.08934 9.77664 3.25041C9.23831 3.37379 8.90192 3.9102 9.02529 4.44853C9.14866 4.98686 9.68508 5.32325 10.2234 5.19987Z",fill:"currentColor"})),fe=e=>a.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.91444 7.59106C4.3419 9.04124 3.28865 10.7415 2.77052 11.6971C2.66585 11.8902 2.66585 12.1098 2.77052 12.3029C3.28865 13.2585 4.3419 14.9588 5.91444 16.4089C7.48195 17.8545 9.50572 19 12 19C14.4943 19 16.518 17.8545 18.0855 16.4089C19.6581 14.9588 20.7113 13.2585 21.2295 12.3029C21.3341 12.1098 21.3341 11.8902 21.2295 11.6971C20.7113 10.7415 19.6581 9.04124 18.0855 7.59105C16.518 6.1455 14.4943 5 12 5C9.50572 5 7.48195 6.1455 5.91444 7.59106ZM4.55857 6.1208C6.36059 4.45899 8.84581 3 12 3C15.1542 3 17.6394 4.45899 19.4414 6.1208C21.2384 7.77798 22.4152 9.68799 22.9877 10.7438C23.4147 11.5315 23.4147 12.4685 22.9877 13.2562C22.4152 14.312 21.2384 16.222 19.4414 17.8792C17.6394 19.541 15.1542 21 12 21C8.84581 21 6.36059 19.541 4.55857 17.8792C2.76159 16.222 1.58478 14.312 1.01232 13.2562C0.58525 12.4685 0.585249 11.5315 1.01232 10.7438C1.58478 9.688 2.76159 7.77798 4.55857 6.1208ZM12 9.5C10.6193 9.5 9.49999 10.6193 9.49999 12C9.49999 13.3807 10.6193 14.5 12 14.5C13.3807 14.5 14.5 13.3807 14.5 12C14.5 10.6193 13.3807 9.5 12 9.5ZM7.49999 12C7.49999 9.51472 9.51471 7.5 12 7.5C14.4853 7.5 16.5 9.51472 16.5 12C16.5 14.4853 14.4853 16.5 12 16.5C9.51471 16.5 7.49999 14.4853 7.49999 12Z",fill:"currentColor"}));function ue(e,t,o){const{isSelected:l}=t,{isPressed:s,buttonProps:i}=W({...e,onPress:k(t.toggle,e.onPress)},o);return{isPressed:s,buttonProps:w(i,{"aria-pressed":l})}}function $e(e={}){let{isReadOnly:t}=e,[o,l]=z(e.isSelected,e.defaultSelected||!1,e.onChange);function s(r){t||l(r)}function i(){t||l(!o)}return{isSelected:o,setSelected:s,toggle:i}}const y=d.createContext(null);function be(e){let{children:t}=e,o=a.useContext(y),[l,s]=a.useState(0),i=a.useMemo(()=>({parent:o,modalCount:l,addModal(){s(r=>r+1),o&&o.addModal()},removeModal(){s(r=>r-1),o&&o.removeModal()}}),[o,l]);return d.createElement(y.Provider,{value:i},t)}function pe(){let e=a.useContext(y);return{modalProviderProps:{"aria-hidden":e&&e.modalCount>0?!0:null}}}function me(e){let{modalProviderProps:t}=pe();return d.createElement("div",{"data-overlay-container":!0,...e,...t})}function Ce(e){return d.createElement(be,null,d.createElement(me,e))}function xe(e){let t=K(),{portalContainer:o=t?null:document.body,...l}=e;if(d.useEffect(()=>{if(o!=null&&o.closest("[data-overlay-container]"))throw new Error("An OverlayContainer must not be inside another container. Please change the portalContainer prop.")},[o]),!o)return null;let s=d.createElement(Ce,l);return ne.createPortal(s,o)}function ge(e,t){let o=Y(e,{labelable:!0}),{hoverProps:l}=S({onHoverStart:()=>t==null?void 0:t.open(!0),onHoverEnd:()=>t==null?void 0:t.close()});return{tooltipProps:w(o,l,{role:"tooltip"})}}function ve(e,t,o){let{isDisabled:l,trigger:s}=e,i=G(),r=a.useRef(!1),n=a.useRef(!1),u=()=>{(r.current||n.current)&&t.open(n.current)},c=v=>{!r.current&&!n.current&&t.close(v)};a.useEffect(()=>{let v=O=>{o&&o.current&&O.key==="Escape"&&(O.stopPropagation(),t.close(!0))};if(t.isOpen)return document.addEventListener("keydown",v,!0),()=>{document.removeEventListener("keydown",v,!0)}},[o,t]);let p=()=>{s!=="focus"&&(J()==="pointer"?r.current=!0:r.current=!1,u())},x=()=>{s!=="focus"&&(n.current=!1,r.current=!1,c())},g=()=>{n.current=!1,r.current=!1,c(!0)},E=()=>{Q()&&(n.current=!0,u())},$=()=>{n.current=!1,r.current=!1,c(!0)},{hoverProps:j}=S({isDisabled:l,onHoverStart:p,onHoverEnd:x}),{focusableProps:A}=q({isDisabled:l,onFocus:E,onBlur:$},o);return{triggerProps:{"aria-describedby":t.isOpen?i:void 0,...w(A,j,{onPointerDown:g,onKeyDown:g})},tooltipProps:{id:i}}}const he=1500,M=500;let m={},we=0,h=!1,b=null,C=null;function _(e={}){let{delay:t=he,closeDelay:o=M}=e,{isOpen:l,open:s,close:i}=H(e),r=a.useMemo(()=>`${++we}`,[]),n=a.useRef(void 0),u=a.useRef(i),c=()=>{m[r]=g},p=()=>{for(let $ in m)$!==r&&(m[$](!0),delete m[$])},x=()=>{clearTimeout(n.current),n.current=null,p(),c(),h=!0,s(),b&&(clearTimeout(b),b=null),C&&(clearTimeout(C),C=null)},g=$=>{$||o<=0?(clearTimeout(n.current),n.current=null,u.current()):n.current||(n.current=setTimeout(()=>{n.current=null,u.current()},o)),b&&(clearTimeout(b),b=null),h&&(C&&clearTimeout(C),C=setTimeout(()=>{delete m[r],C=null,h=!1},Math.max(M,o)))},E=()=>{p(),c(),!l&&!b&&!h?b=setTimeout(()=>{b=null,h=!0,x()},t):l||x()};return a.useEffect(()=>{u.current=i},[i]),a.useEffect(()=>()=>{clearTimeout(n.current),m[r]&&delete m[r]},[r]),{isOpen:l,open:$=>{!$&&t>0&&!n.current?E():x()},close:g}}const Pe=a.createContext({});function Ee(e,t){[e,t]=D(e,t,Pe);let o=$e(e),{buttonProps:l,isPressed:s}=ue(e,o,t),{focusProps:i,isFocused:r,isFocusVisible:n}=X(e),{hoverProps:u,isHovered:c}=S(e),p=L({...e,values:{isHovered:c,isPressed:s,isFocused:r,isSelected:o.isSelected,isFocusVisible:n,isDisabled:e.isDisabled||!1,state:o},defaultClassName:"react-aria-ToggleButton"});return d.createElement("button",{...w(l,i,u),...p,ref:t,slot:e.slot||void 0,"data-focused":r||void 0,"data-disabled":e.isDisabled||void 0,"data-pressed":s||void 0,"data-selected":o.isSelected||void 0,"data-hovered":c||void 0,"data-focus-visible":n||void 0})}const ye=a.forwardRef(Ee),T=a.createContext(null),I=a.createContext(null);function Se(e){let t=_(e),o=a.useRef(null),{triggerProps:l,tooltipProps:s}=ve(e,t,o);return d.createElement(ee,{values:[[T,t],[I,{...s,triggerRef:o}]]},d.createElement(te,{...l,ref:o},e.children))}function Te({UNSTABLE_portalContainer:e,...t},o){[t,o]=D(t,o,I);let l=a.useContext(T),s=_(t),i=t.isOpen!=null||t.defaultOpen!=null||!l?s:l,r=oe(o,i.isOpen)||t.isExiting||!1;return!i.isOpen&&!r?null:d.createElement(xe,{portalContainer:e},d.createElement(Re,{...t,tooltipRef:o,isExiting:r}))}const Oe=a.forwardRef(Te);function Re(e){let t=a.useContext(T),o=a.useRef(null),[l,s]=a.useState(0);re(()=>{o.current&&t.isOpen&&s(o.current.getBoundingClientRect().width)},[t.isOpen,o]);let{overlayProps:i,arrowProps:r,placement:n}=V({placement:e.placement||"top",targetRef:e.triggerRef,overlayRef:e.tooltipRef,offset:e.offset,crossOffset:e.crossOffset,isOpen:t.isOpen,arrowSize:l,arrowBoundaryOffset:e.arrowBoundaryOffset,shouldFlip:e.shouldFlip}),u=le(e.tooltipRef,!!n)||e.isEntering||!1,c=L({...e,defaultClassName:"react-aria-Tooltip",values:{placement:n,isEntering:u,isExiting:e.isExiting,state:t}});e=w(e,i);let{tooltipProps:p}=ge(e,t);return d.createElement("div",{...p,ref:e.tooltipRef,...c,style:{...i.style,...c.style},"data-placement":n,"data-entering":u||void 0,"data-exiting":e.isExiting||void 0},d.createElement(Z.Provider,{value:{...r,placement:n,ref:o}},c.children))}const Me="_toggleVisibilityButton_ryybh_1",Be="_tooltip_ryybh_24",De="_tooltipBody_ryybh_41",Le="_tooltipArrow_ryybh_49",P={toggleVisibilityButton:Me,tooltip:Be,tooltipBody:De,tooltipArrow:Le},B=["current-password","new-password","confirm-password"],Ze=e=>{const[t,o]=a.useState(!1),l=a.useRef(null),s=a.useId(),i=e.id??s;return a.useEffect(()=>{(!e.name||!B.includes(e.name))&&console.warn(`Password managers and generators may not support the field name ${e.name}. Prefer one of: ${B.join(", ")}`)},[e.name]),a.useEffect(()=>{var r,n;(n=(r=l.current)==null?void 0:r.form)==null||n.addEventListener("submit",()=>{se.flushSync(()=>{o(!1)})})},[]),f.jsx(ie,{id:i,type:t?"text":"password",nativeInputRef:l,...e,endDecoration:f.jsx(_e,{inputId:i,isPasswordVisible:t,toggleVisibility:()=>o(r=>!r)})})},_e=({inputId:e,isPasswordVisible:t,toggleVisibility:o})=>{const l=t?ce:fe,s=F();return f.jsxs(Se,{children:[f.jsx(ye,{type:"button",isSelected:t,"aria-controls":e,onPress:o,className:N(P.toggleVisibilityButton,ae),"aria-label":s.formatMessage({id:"passwordInput.toggleVisibilityButton",defaultMessage:"Show password",description:"Label for the switch to toggle password visibility"}),children:f.jsx(l,{height:20,width:20})}),f.jsxs(Oe,{offset:20,className:P.tooltip,children:[f.jsx(U,{children:f.jsx("svg",{width:8,height:8,viewBox:"0 0 8 8",className:P.tooltipArrow,children:f.jsx("path",{d:"M0 0 L4 4 L8 0"})})}),f.jsx(de,{"aria-hidden":!0,className:P.tooltipBody,children:t?f.jsx(R,{id:"passwordInput.hidePassword",defaultMessage:"Hide password",description:"Tooltip message for the switch to hide password"}):f.jsx(R,{id:"passwordInput.showPassword",defaultMessage:"Show password",description:"Tooltip message for the switch to show password"})})]})]})};export{Ze as P};
//# sourceMappingURL=PasswordInput-DvjzGPfI.js.map
