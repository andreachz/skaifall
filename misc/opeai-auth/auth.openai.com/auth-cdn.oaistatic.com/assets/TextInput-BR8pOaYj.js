import{r as s,R as C,j as b}from"./index-DjeUAv9f.js";import{c as B}from"./index-npON1Cka.js";import{a as S,b as j,c as O,d as V,e as R,f as q,g as _,h as L,i as T,j as N,k as F,l as k,m as w,n as D,o as A,p as z,q as U,r as G,s as J,t as K,u as Q,v as W,F as E}from"./FormField-DK50dxQ6.js";import{d as X}from"./utils-BGG_ggsw.js";function Y(e,a){let{inputElementType:n="input",isDisabled:t=!1,isRequired:i=!1,isReadOnly:l=!1,type:c="text",validationBehavior:d="aria"}=e,[o,v]=S(e.value,e.defaultValue||"",e.onChange),{focusableProps:p}=j(e,a),x=O({...e,value:o}),{isInvalid:r,validationErrors:u,validationDetails:P}=x.displayValidation,{labelProps:f,fieldProps:m,descriptionProps:$,errorMessageProps:y}=V({...e,isInvalid:r,errorMessage:e.errorMessage||u}),h=R(e,{labelable:!0});const M={type:c,pattern:e.pattern};return q(a,o,v),_(e,x,a),s.useEffect(()=>{if(a.current instanceof L(a.current).HTMLTextAreaElement){let g=a.current;Object.defineProperty(g,"defaultValue",{get:()=>g.value,set:()=>{},configurable:!0})}},[a]),{labelProps:f,inputProps:T(h,n==="input"?M:void 0,{disabled:t,readOnly:l,required:i&&d==="native","aria-required":i&&d==="aria"||void 0,"aria-invalid":r||void 0,"aria-errormessage":e["aria-errormessage"],"aria-activedescendant":e["aria-activedescendant"],"aria-autocomplete":e["aria-autocomplete"],"aria-haspopup":e["aria-haspopup"],value:o,onChange:g=>v(g.target.value),autoComplete:e.autoComplete,autoCapitalize:e.autoCapitalize,maxLength:e.maxLength,minLength:e.minLength,name:e.name,placeholder:e.placeholder,inputMode:e.inputMode,onCopy:e.onCopy,onCut:e.onCut,onPaste:e.onPaste,onCompositionEnd:e.onCompositionEnd,onCompositionStart:e.onCompositionStart,onCompositionUpdate:e.onCompositionUpdate,onSelect:e.onSelect,onBeforeInput:e.onBeforeInput,onInput:e.onInput,...p,...m}),descriptionProps:$,errorMessageProps:y,isInvalid:r,validationErrors:u,validationDetails:P}}const H=s.createContext({});let Z=e=>{let{onHoverStart:a,onHoverChange:n,onHoverEnd:t,...i}=e;return i};function ee(e,a){[e,a]=F(e,a,H);let{hoverProps:n,isHovered:t}=k(e),{isFocused:i,isFocusVisible:l,focusProps:c}=w({isTextInput:!0,autoFocus:e.autoFocus}),d=!!e["aria-invalid"]&&e["aria-invalid"]!=="false",o=D({...e,values:{isHovered:t,isFocused:i,isFocusVisible:l,isDisabled:e.disabled||!1,isInvalid:d},defaultClassName:"react-aria-Input"});return C.createElement("input",{...T(Z(e),c,n),...o,ref:a,"data-focused":i||void 0,"data-disabled":e.disabled||void 0,"data-hovered":t||void 0,"data-focus-visible":l||void 0,"data-invalid":d||void 0})}const ae=N(ee),te=s.createContext({}),ie=s.createContext(null);function de(e,a){[e,a]=F(e,a,ie);let{validationBehavior:n}=A(z)||{};var t,i;let l=(i=(t=e.validationBehavior)!==null&&t!==void 0?t:n)!==null&&i!==void 0?i:"native",c=s.useRef(null),[d,o]=U(),[v,p]=s.useState("input"),{labelProps:x,inputProps:r,descriptionProps:u,errorMessageProps:P,...f}=Y({...G(e),inputElementType:v,label:o,validationBehavior:l},c),m=s.useCallback(h=>{c.current=h,h&&p(h instanceof HTMLTextAreaElement?"textarea":"input")},[]),$=D({...e,values:{isDisabled:e.isDisabled||!1,isInvalid:f.isInvalid,isReadOnly:e.isReadOnly||!1,isRequired:e.isRequired||!1},defaultClassName:"react-aria-TextField"}),y=R(e);return delete y.id,C.createElement("div",{...y,...$,ref:a,slot:e.slot||void 0,"data-disabled":e.isDisabled||void 0,"data-invalid":f.isInvalid||void 0,"data-readonly":e.isReadOnly||void 0,"data-required":e.isRequired||void 0},C.createElement(J,{values:[[K,{...x,ref:d}],[H,{...r,ref:m}],[te,{...r,ref:m}],[Q,{slots:{description:u,errorMessage:P}}],[W,f]]},$.children))}const ne=s.forwardRef(de),oe="_input_1kwl2_1",re="_endDecoration_1kwl2_13",I={input:oe,endDecoration:re},fe=({className:e,label:a,errors:n=[],onChange:t,"aria-describedby":i,id:l,startDecoration:c,endDecoration:d,nativeInputRef:o,isInvalid:v,holdOpen:p=!1,tabIndex:x,defaultValue:r,...u})=>{const[P,f]=s.useState(!!u.value||!!r);return b.jsx(ne,{className:e,validationBehavior:"aria",isInvalid:v??n.length>0,"aria-describedby":i,id:l,defaultValue:r,children:b.jsx(E,{label:a,errors:n,children:b.jsx(E.Typeable,{hasValue:P||p,eagerlyShowFocusState:u.autoFocus,children:({targetClassName:m})=>b.jsxs(b.Fragment,{children:[c,b.jsx(ae,{ref:o,className:B(I.input,m),placeholder:a,onChange:$=>{f(!!$.currentTarget.value),t==null||t($)},tabIndex:x??(X()?0:void 0),...u}),d&&b.jsx("div",{className:I.endDecoration,children:d})]})})})})};export{H as $,fe as T,ae as a};
//# sourceMappingURL=TextInput-BR8pOaYj.js.map
