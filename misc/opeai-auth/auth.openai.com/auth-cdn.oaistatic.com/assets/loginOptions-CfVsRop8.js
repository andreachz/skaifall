import{s as c,z as m}from"./useAppNameEnum-B_RCZZaG.js";import{L as O,a as s}from"./loginOption-DXGQrmx0.js";import{u as o}from"./useTypedDynamicConfig-CGyPrPvB.js";function h({loginStrategy:e}){return o(`login_web_${e}_login_option_google`,s,{name:"google",enabled:!0,tempDisabled:!1,kind:"social",loginStrategy:e})}function L({loginStrategy:e}){return o(`login_web_${e}_login_option_microsoft`,s,{name:"microsoft",enabled:!0,tempDisabled:!1,kind:"social",loginStrategy:e})}function w({loginStrategy:e}){return o(`login_web_${e}_login_option_apple`,s,{name:"apple",enabled:!0,tempDisabled:!1,kind:"social",loginStrategy:e})}function D({loginStrategy:e}){return o(`login_web_${e}_login_option_email`,s,{name:"email",enabled:!0,tempDisabled:!1,kind:"username",loginStrategy:e})}function k({loginStrategy:e}){const n=o(`login_web_${e}_login_option_phone_number`,s,{name:"phone_number",enabled:e==="existing_user",tempDisabled:!1,kind:"username",loginStrategy:e}),i=c.useLayer("chatgpt_phone_signup_layer"),t=c.useGateValue("chatgpt-signup-allow-phone");if(e!=="new_user")return n;const r=i.get("signup_allow_phone_from_login_web",!1),p=i.get("in_phone_signup_holdout_from_login_web",!1),l=t||r,_=n.enabled;return{...n,enabled:!p&&_&&l}}function G({loginStrategy:e}){const n=h({loginStrategy:e}),i=L({loginStrategy:e}),t=w({loginStrategy:e}),r=D({loginStrategy:e}),p=k({loginStrategy:e}),l=[n,i,t,r,p].filter(a=>a&&a.enabled),_=c.useLayer("auth_unify_login_signup_layer").get("use_generic_login_options_order",!0),u={order:["google","microsoft","apple","email","phone_number"]},g=o("login_web_login_options_order",m.object({order:m.array(O)}),u),d=_?u:g,f=l.sort((a,b)=>d.order.indexOf(a.name)-d.order.indexOf(b.name));return{googleOption:n,microsoftOption:i,appleOption:t,emailOption:r,phoneNumberOption:p,optionsForDisplay:f}}export{G as u};
//# sourceMappingURL=loginOptions-CfVsRop8.js.map
